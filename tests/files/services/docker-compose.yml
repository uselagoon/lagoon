version: "2"

services:
  mariadb-10-5:
    image: uselagoon/mariadb-10.5
    labels:
      lagoon.type: mariadb-single
      lagoon.persistent.size: 100Mi
    ports:
      - '3306'

  mariadb-10-11:
    image: uselagoon/mariadb-10.11
    labels:
      lagoon.type: mariadb
    ports:
      - '3306'

  mongo-4:
    image: uselagoon/mongo-4
    labels:
      lagoon.type: mongo
    ports:
      - '27017'

  postgres-13:
    image: uselagoon/postgres-13
    labels:
      lagoon.type: postgres-single
      lagoon.persistent.size: 100Mi
    ports:
      - '5432'

  postgres-15:
    image: uselagoon/postgres-15
    labels:
      lagoon.type: postgres
    ports:
      - '5432'

  internal-services-test:
    image: uselagoon/internal-services-test:main
    labels:
      lagoon.type: basic-persistent
      lagoon.persistent: /app/files
      lagoon.persistent.size: 10Mi
      lagoon.persistent.class: bulk
    ports:
      - "3000"
    environment:
      - STORAGE_LOCATION=/app/files
